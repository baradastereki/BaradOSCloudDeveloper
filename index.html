<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Barad OS â€” Liquid Glass UI</title>
<style>
  /* Reset & base */
  * {
    box-sizing: border-box;
  }
  body, html {
    margin:0; padding:0;
    width:100%; height:100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
      Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    background: url('a.jpg') no-repeat center center fixed;
    background-size: cover;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow: hidden;
    user-select: none;
  }

  /* Liquid Glass base style */
  .liquid-glass {
    background: rgba(255 255 255 / 0.1);
    backdrop-filter: blur(18px) saturate(150%);
    -webkit-backdrop-filter: blur(18px) saturate(150%);
    border-radius: 20px;
    box-shadow:
      inset 0 0 0 1px rgba(255 255 255 / 0.25),
      0 8px 32px rgba(0 0 0 / 0.2);
    border: 1px solid rgba(255 255 255 / 0.3);
    color: #e8e8f0;
    user-select: none;
  }

  /* Dock container */
  #dock {
    position: fixed;
    bottom: 24px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 22px;
    padding: 12px 22px;
    width: fit-content;
    z-index: 10;
  }

  /* Dock background using liquid glass */
  #dock-bg {
    position: absolute;
    inset: 0;
    border-radius: 24px;
    pointer-events: none;
    z-index: -1;
    box-shadow:
      0 0 20px 2px rgba(255 255 255 / 0.1),
      0 8px 32px rgba(0 0 0 / 0.15);
  }

  /* Dock icons */
  .dock-icon {
    width: 56px;
    height: 56px;
    border-radius: 16px;
    cursor: pointer;
    background-size: cover;
    background-position: center;
    transition:
      transform 0.3s cubic-bezier(0.22, 1, 0.36, 1),
      box-shadow 0.3s ease;
    box-shadow:
      0 4px 8px rgba(0 0 0 / 0.1),
      inset 0 0 0 1px rgba(255 255 255 / 0.15);
  }
  .dock-icon:hover {
    transform: scale(1.3);
    box-shadow:
      0 10px 15px rgba(255 255 255 / 0.7),
      inset 0 0 8px 2px rgba(255 255 255 / 0.4);
    filter: drop-shadow(0 0 4px rgba(255 255 255 / 0.7));
  }

  /* Desktop */
  #desktop {
    width: 100%;
    height: 100%;
    position: relative;
  }

  /* Floating window */
  .window {
    position: absolute;
    top: 60px;
    left: 60px;
    width: 400px;
    height: 280px;
    padding: 20px;
    background: rgba(255 255 255 / 0.12);
    border-radius: 26px;
    box-shadow:
      0 12px 30px rgba(0 0 0 / 0.25),
      inset 0 0 0 1px rgba(255 255 255 / 0.25);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    color: #eaeaff;
    user-select: text;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  /* Window header */
  .window-header {
    font-weight: 600;
    font-size: 1.3rem;
    margin-bottom: 12px;
    text-shadow: 0 0 5px rgba(255 255 255 / 0.6);
  }

  /* Buttons */
  button {
    background: rgba(255 255 255 / 0.1);
    border: 1.4px solid rgba(255 255 255 / 0.25);
    border-radius: 12px;
    color: #d0d0e0;
    font-weight: 600;
    padding: 8px 18px;
    cursor: pointer;
    transition:
      background 0.25s ease,
      box-shadow 0.25s ease;
  }
  button:hover {
    background: rgba(255 255 255 / 0.25);
    box-shadow: 0 0 10px rgba(255 255 255 / 0.6);
  }

  /* Input */
  input[type="password"] {
    background: rgba(255 255 255 / 0.1);
    border: 1px solid rgba(255 255 255 / 0.3);
    border-radius: 10px;
    color: #f0f0ff;
    padding: 10px 14px;
    font-size: 1rem;
    outline: none;
    transition: border-color 0.2s ease;
    width: 100%;
  }
  input[type="password"]:focus {
    border-color: #66f;
    box-shadow: 0 0 8px #66f;
  }
</style>
</head>
<body>

<div id="desktop">

  <!-- Dock -->
  <div id="dock" class="liquid-glass">
    <div id="dock-bg"></div>
  </div>

  <!-- Windows container -->
  <div id="windows-container"></div>

  <!-- RAM usage bar -->
  <div id="ramInfo" style="
    position: fixed; top: 15px; right: 20px; 
    width: 220px; height: 24px; 
    border-radius: 14px; 
    overflow: hidden;
    font-weight: 700;
    color: #eee;
    background: rgba(255 255 255 / 0.12);
    box-shadow: inset 0 0 10px rgba(0 0 0 / 0.4);
    user-select:none;
    z-index: 20;
  ">
    RAM: <span id="ramUsed">0</span> / 50 MB
    <div id="ramBar" style="
      position: absolute;
      bottom: 0; left: 0; top: 0;
      background: #66f;
      transition: width 0.5s ease;
      width: 0%;
      border-radius: 14px 0 0 14px;
      z-index: -1;
    "></div>
  </div>
</div>

<!-- Boot log -->
<div id="bootLog">
  <div>>> SYSTEM log : Booting</div>
  <div>>> SYSTEM IS BOOTING TO BARAD OS.DF</div>
</div>

<script>
(() => {
  const TOTAL_RAM_MB = 50;
  let allocatedRAM = 0;
  let isCrashed = false;

  // App definitions with icons (base64 or local paths)
  const apps = [
    { id: 'fileManager', name: 'File Manager', icon: 'https://cdn-icons-png.flaticon.com/512/716/716784.png' },
    { id: 'terminal', name: 'Terminal', icon: 'https://cdn-icons-png.flaticon.com/512/2991/2991148.png' },
    { id: 'settings', name: 'Settings', icon: 'https://cdn-icons-png.flaticon.com/512/3524/3524659.png' },
    { id: 'youtube', name: 'YouTube', icon: 'https://cdn-icons-png.flaticon.com/512/1384/1384060.png' },
    // add more app icons here
  ];

  // DOM references
  const dock = document.getElementById('dock');
  const windowsContainer = document.getElementById('windows-container');
  const bootLog = document.getElementById('bootLog');
  const desktop = document.getElementById('desktop');
  const ramUsedSpan = document.getElementById('ramUsed');
  const ramBar = document.getElementById('ramBar');

  // Helper to create dock icons
  function createDockIcon(app) {
    const div = document.createElement('div');
    div.classList.add('dock-icon');
    div.style.backgroundImage = `url(${app.icon})`;
    div.title = app.name;
    div.onclick = () => launchApp(app);
    return div;
  }

  // Update RAM usage UI
  function updateRAM() {
    ramUsedSpan.textContent = allocatedRAM.toFixed(1);
    let percent = (allocatedRAM / TOTAL_RAM_MB) * 100;
    ramBar.style.width = percent + '%';
    if (percent > 85) {
      ramBar.style.background = '#f33';
    } else if (percent > 60) {
      ramBar.style.background = '#fa3';
    } else {
      ramBar.style.background = '#66f';
    }
  }

  // Launch app with RAM usage, crash if needed
  function launchApp(app) {
    if (isCrashed) {
      alert("System is crashed. Please revive first.");
      return;
    }
    const ramUsage = 20 + Math.random() * 4; // ~1/2.1 RAM
    allocatedRAM += ramUsage;
    updateRAM();

    if (allocatedRAM >= TOTAL_RAM_MB) {
      triggerSystemCrash();
      return;
    }

    // Open window for the app
    openWindow(app);
  }

  // Open a floating window
  function openWindow(app) {
    const win = document.createElement('div');
    win.className = 'window liquid-glass';
    win.style.top = `${60 + Math.random() * 100}px`;
    win.style.left = `${60 + Math.random() * 200}px`;

    const header = document.createElement('div');
    header.className = 'window-header';
    header.textContent = app.name;

    const content = document.createElement('div');
    content.style.flex = '1';
    content.style.overflow = 'auto';
    content.style.fontSize = '0.95rem';
    content.style.paddingRight = '8px';
    content.textContent = `Welcome to ${app.name}! This app uses approximately  ${(20 + Math.random()*4).toFixed(1)} MB of RAM.`;

    const closeBtn = document.createElement('button');
    closeBtn.textContent = 'Close';
    closeBtn.onclick = () => {
      allocatedRAM -= ramUsageForWindow;
      updateRAM();
      win.remove();
    };

    win.appendChild(header);
    win.appendChild(content);
    win.appendChild(closeBtn);
    windowsContainer.appendChild(win);

    // Track RAM used by this window (simulate)
    const ramUsageForWindow = 20 + Math.random()*4;
  }

  // Crash screen
  function triggerSystemCrash() {
    isCrashed = true;
    desktop.style.display = 'none';
    bootLog.style.display = 'none';

    document.body.innerHTML = `
      <div style="background:black; color:#f33; font-family: monospace; height:100vh; display:flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px;">
        <h1>))SYSTEM CRASHED</h1>
        <p>50MB OF ALLOCATED RAM GOT FULL</p>
        <p>THE SYSTEM HAS CRASHED.</p>
        <button id="reviveBtn" style="padding: 15px 30px; font-size: 18px; cursor: pointer; margin-top: 30px;">BROADCAST GUI PASSWORD MANAGER</button>
        <div id="passwordSection" style="margin-top: 25px; display:none;">
          <input type="password" id="revivePassword" placeholder="Enter password" style="padding: 12px 16px; font-size: 16px; border-radius: 8px; border: none; outline: none; width: 260px;"/>
          <button id="submitPassword" style="padding: 12px 16px; font-size: 16px; cursor: pointer; margin-left: 12px;">Submit</button>
          <p id="passwordMsg" style="color:#f55; margin-top: 15px;"></p>
        </div>
      </div>
    `;

    document.getElementById('reviveBtn').onclick = () => {
      document.getElementById('passwordSection').style.display = 'block';
      document.getElementById('reviveBtn').style.display = 'none';
    };

    document.getElementById('submitPassword').onclick = () => {
      const pw = document.getElementById('revivePassword').value;
      const correctPW = 'revive123'; // Change as you want

      if (pw === correctPW) {
        openTerminalWindow();
      } else {
        document.getElementById('passwordMsg').textContent = 'Incorrect password, try again.';
      }
    };
  }

  // Terminal window on revive
  function openTerminalWindow() {
    document.body.innerHTML = `
      <div style="background:#000; color:#0f0; font-family: monospace; padding: 20px; height: 200px; width: 450px; margin: 50px auto; border-radius: 10px; box-shadow: 0 0 20px #0f0;">
        <p>SYSTEM CRASHED.</p>
        <p>YOU REVIVED YOUR OS.</p>
        <button id="reviveConfirm" style="margin-top: 20px; padding: 12px 28px; font-size: 18px; cursor: pointer;">Restart System</button>
      </div>
    `;

    document.getElementById('reviveConfirm').onclick = () => {
      allocatedRAM = 0;
      isCrashed = false;
      location.reload();
    };
  }

  // Boot sequence
  setTimeout(() => {
    bootLog.style.animationPlayState = 'running';
    setTimeout(() => {
      bootLog.style.display = 'none';
      desktop.style.display = 'block';
      apps.forEach(app => {
        dock.appendChild(createDockIcon(app));
      });
      updateRAM();
    }, 1200);
  }, 2200);
})();
</script>

</body>
</html>
